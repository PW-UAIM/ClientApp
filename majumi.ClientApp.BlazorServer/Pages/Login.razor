@page "/login"
@using majumi.CarService.ClientsAppService.Rest.Model.Model;
@inject IController controller
@inject IModel model
@inject NavigationManager NavManager

<div class="col-lg-10 col-12 text-center mx-auto">
    <p>
        <br>
    </p>
    <h2 class="mb-5">Główna strona logowania</h2>
</div>


@code {
	int numericInputValue;
	string labelText;
	private async Task ClientLogIn()
	{
		model.ClientID = numericInputValue;
		await controller.ClientLogInAsync();
		Console.WriteLine($"[DEBUG] Logowanie jako klient {numericInputValue}, status ({model.LoginConfirmation}), aktualnie zalogowano jako ClientID={model.ClientID}");
		if(model.LoginConfirmation == true) {
			NavManager.NavigateTo("/account");
		} else
		{
			labelText = "Nie ma klienta o takim identyfikatorze";
		}
	}
}

<section class="donate-section">
                <div class="section-overlay"></div>
                <div class="container">
                    <div class="row">
                        <div class="col-lg-6 col-12 mx-auto">
                            <form class="custom-form donate-form" action="#" method="get" role="form">
                    <img src="/majumiservice/images/majumi2.png" class=" image-center img-fluid" alt="">
                    <div class="col-lg-6 col-md-5 col-12">
                            
       
                    </div>
                    <h3 class="mb-4 text-center">Zaloguj się jako Klient</h3>

                                <div class="row">
                                    <div class="col-lg-12 col-12">
                                        <h5 class="mb-3">Login:</h5>
                                    </div>

                                    <div class="col-lg-6 col-6 form-check-group form-check-group-donation-frequency">
                                        <div class="form-check form-check-radio">
                                
                                <RadzenNumeric ShowUpDown="false" TValue="int" @bind-Value=@numericInputValue Placeholder="Enter ClientID" />
                                
             
                                        </div>
                                    </div>

                             

                                    <div class="col-lg-12 col-12 mt-2">
                            <RadzenButton Click=ClientLogIn Text="Login" ButtonStyle="ButtonStyle.Primary" />
                            <RadzenLabel @bind-Text=@labelText></RadzenLabel>
                                    </div>
                                </div>
                            </form>
                        </div>

                    </div>
                </div>
            </section>
